# 事業者管理アプリ 利用説明書

バージョン: 2025年10月版
URL: https://jigyosyakanri2.vercel.app/

---

## 目次

1. [はじめに](#はじめに)
2. [ログイン方法](#ログイン方法)
3. [画面構成](#画面構成)
4. [基本機能](#基本機能)
5. [タスク管理機能](#タスク管理機能)
6. [進捗管理・分析機能](#進捗管理分析機能)
7. [データ管理](#データ管理)
8. [よくある質問](#よくある質問)

---

## はじめに

### このアプリでできること

事業者管理アプリは、会計事務所向けの顧問先管理システムです。以下の機能を提供します。

- **顧問先情報の一元管理**: 事業者情報・担当者・決算月などの管理
- **月次進捗管理**: 各顧問先の月次業務進捗をチェックボックスで記録
- **タスク管理**: 担当者間でのタスク依頼・進捗確認・完了報告
- **進捗分析**: 担当者別パフォーマンス・週次推移グラフでの可視化
- **自動バックアップ**: 毎日0時の自動データバックアップ

### 対象ユーザー

- 会計事務所の担当者（スタッフ）
- 管理者（事務所責任者）

---

## ログイン方法

### 1. Googleアカウントでログイン

1. https://mori-jigyosya.vercel.app/ にアクセス
2. 「Googleでログイン」ボタンをクリック
3. 事務所共通のGoogleアカウントを選択

### 2. 担当者選択

1. ログイン後、担当者選択画面が表示されます
2. 自分の名前をクリックして選択
3. 自動的にメイン画面（進捗管理ダッシュボード）に遷移

> **ポイント**: 担当者を選択すると、自分の担当事業者のみがフィルター表示されます（管理者は全体が表示されます）

### 3. 担当者の変更方法

画面右上の「設定画面へ」→「管理メニュー」→「担当者選択」ボタンから再選択できます。

---

## 画面構成

### メイン画面（進捗管理ダッシュボード）

アプリの中心となる画面です。

**主要エリア**:
- **フィルターエリア**: 期間・担当者・決算月・事業者名で絞り込み
- **サマリーダッシュボード**: 全体進捗率・完了タスク数・要注意事業者の表示
- **進捗マトリクス表**: 事業者×年月の進捗状況を一覧表示
- **週次進捗グラフ**: 進捗推移をグラフで可視化
- **顧客管理エリア**: 事業者の追加・編集・検索

### タブナビゲーション

画面上部のタブで各機能に移動できます。

- **進捗管理**: メイン画面（進捗マトリクス表・グラフ表示）
- **担当者別進捗**: 担当者ごとのパフォーマンス分析
- **タスク管理**: タスクの作成・管理・進捗確認

### 管理メニュー

「設定画面へ」ボタンから以下の管理機能にアクセスできます。

- 担当者管理
- 顧問先追加
- 基本設定
- バックアップ設定
- CSVインポート/エクスポート
- その他アプリへのリンク設定

---

## 基本機能

### 1. 事業者の追加

**手順**:
1. メイン画面で「＋ 顧問先追加」ボタンをクリック
2. 必要情報を入力:
   - 事業者名（必須）
   - 決算月（1-12月）
   - 担当者（ドロップダウンから選択）
   - 経理方式（記帳代行 / 自計）
3. 「保存」をクリック

### 2. 事業者情報の編集

**手順**:
1. 進捗マトリクス表の右端「編集」ボタンをクリック
2. 詳細画面で情報を編集
3. 自動保存されます（編集後すぐに反映）

> **注意**: 他のユーザーが編集中の場合、編集ロックメッセージが表示されます

### 3. 月次進捗の入力

**手順**:
1. 事業者の「編集」ボタンをクリック
2. 詳細画面の月次進捗表でチェックボックスをクリック
3. 全項目完了すると自動的に「完了」マークが付きます
4. 達成時エフェクト（花火・紙吹雪など）がランダムで再生されます

**進捗表示**:
- 緑色（80%以上）: 順調
- 黄色（50-79%）: 注意
- 赤色（50%未満）: 要注意
- 📋アイコン: 資料受付完了（1/5などの表示）

### 4. カスタムタスク項目の設定

各事業者ごとに独自のタスク項目を設定できます。

**手順**:
1. 詳細画面で「データ管理メニュー」→「項目の変更」
2. 「新しい項目を追加」で項目名を入力
3. ドラッグ&ドロップで順序変更可能
4. 「保存」で確定

### 5. 年度確定

特定年度のタスク項目を確定（ロック）できます。

**手順**:
1. 詳細画面で「この年度の項目を確定」ボタンをクリック
2. 確認ダイアログで「OK」
3. 確定後は項目の編集ができなくなります

---

## タスク管理機能

### タスク管理の基本

タスク管理タブでは、担当者間でタスクを依頼・管理できます。

**4つのステータス**:
1. **予定未定**（緑）: 随時タスクで予定日未定
2. **依頼中**（黄）: 予定日が設定され、作業待ち
3. **確認待ち**（青）: 作業完了、確認待ち
4. **確認完了**（灰）: 全て完了

### タスクの作成

**手順**:
1. 「＋ タスク追加」ボタンをクリック
2. 必要情報を入力:
   - タスク名（必須）
   - 事業者（検索可能）
   - 受任者（担当者）
   - 期限日
   - 予定日（ガントチャート表示用）
   - 想定時間（時間）
   - 随時タスク（チェックで予定未定ステータス）
   - 内容・参照URL
3. 「保存」をクリック

> **ポイント**: 「随時タスク」にチェックを入れると、予定日なしで「予定未定」ステータスとして作成されます

### タスクのステータス変更

**方法1: ステータスバッジをクリック**
- 各タスクの色付きバッジ（📌予定未定、📝依頼中など）をクリック
- 次のステータスへ自動遷移

**方法2: タスク詳細画面から**
- タスク名をクリックして詳細画面を開く
- 右上のステータスボタンをクリック

### 予定未定タスクの活用

**予定未定タスクとは**:
- いつでもできる随時タスク（緑色表示）
- 予定日を入れるまでガントチャートに表示されない
- カレンダー表示では緑色の「未」バッジで識別

**予定日を設定する**:
1. タスク編集画面で「予定日」を入力
2. 自動的に「依頼中」ステータスに変更
3. ガントチャートに表示されます

**予定日を削除する**:
1. タスク編集画面で「予定日」を空にする
2. 自動的に「予定未定」ステータスに戻ります

### 自己タスク（自分への依頼）

依頼者と受任者が同じ場合、特別なワークフローになります。

- 作業完了時に「確認待ち」をスキップ
- 自動的に「予定未定」に戻り、予定日が削除されます

### 表示形式の切り替え

**リスト表示**:
- テーブル形式でタスク一覧を表示
- ソート・フィルター機能

**カード表示（カンバンビュー）**:
- ステータスごとに4列で表示
- ドラッグ&ドロップでステータス変更可能

**カレンダー表示**:
- 依頼中タスク: A, B, C...のアルファベット識別子
- 予定未定タスク: 緑色の「未」バッジ
- ガントチャート: 予定日に基づいた横棒表示

### マイタスクパネル

画面右側に自分のタスクが表示されます。

**受任中のタスク**:
- 自分が担当するタスク
- 「依頼中」ステータスのみカウント

**依頼中のタスク**:
- 自分が依頼したタスク
- 確認待ちが優先表示

**簡易表示モード**:
- トグルスイッチでON/OFF
- 事業者名・タスク名・期限日・ステータスのみ表示

### 履歴表示

「履歴表示」ボタンをクリックすると、確認完了したタスクを一覧表示できます。

**フィルター**:
- 過去7日間
- 過去30日間
- すべての履歴

**検索**:
- タスク名・事業者名・内容で検索可能

### テンプレート機能

よく使うタスクをテンプレートとして保存できます。

**3種類のテンプレート**:
1. **月次自動タスク**: 毎月自動で作成されるタスク
2. **個別テンプレート**: 特定事業者専用のテンプレート
3. **共有テンプレート**: 全事業者で使えるテンプレート

**月次自動タスクの設定**:
1. 「月次自動タスク作成」セクションで「＋追加」
2. テンプレート・事業者・期限日・何日前作成を設定
3. 自動的に毎月タスクが生成されます

---

## 進捗管理・分析機能

### 進捗マトリクス表

事業者×年月の進捗状況を一覧表示します。

**表示内容**:
- ID: 事業者ID
- 事業者名
- 担当者
- 決算月（赤線で強調）
- 経理方式
- 進捗率
- 各月の進捗（分数表示）

**ソート機能**:
- 列ヘッダーをクリックで昇順・降順切り替え

**編集ボタン**:
- 各行の右端から詳細画面へ移動

### フィルター機能

**期間フィルター**:
- 今年度
- 前四半期
- 6ヶ月
- 12ヶ月
- カスタム期間（開始月・終了月を指定）

**担当者フィルター**:
- 全体 / 各担当者

**決算月フィルター**:
- 全て / 1月-12月

**事業者名検索**:
- リアルタイム検索（部分一致）

### 週次進捗グラフ

進捗の推移を3軸折れ線グラフで表示します。

**表示内容**:
- 進捗率（%）: 青線
- 完了タスク数: 緑線
- 要注意事業者数: 赤線

**スナップショット保存**:
- 「週次データを記録」ボタンで現在の状況を保存
- フィルター条件が反映されます

### 担当者別パフォーマンス

各担当者のパフォーマンスを分析できます。

**表示指標**:
- 担当事業者数
- 平均完了率（%）
- 完了月数
- 遅延発生月数
- 評価（優秀・良好・標準・要改善）

**期間設定**:
- 今年度
- 前四半期
- 6ヶ月
- 12ヶ月
- カスタム期間

**詳細確認**:
- 「詳細確認」ボタンで進捗ダッシュボードへ移動（担当者フィルター適用）

### エクスポート機能

**CSV形式**:
- 進捗マトリクス表をExcelで開ける形式で出力
- UTF-8 BOM付き

**Excel形式**:
- 基本スタイル
- ヘッダー強調
- アイコン付き（3種類から選択）

**PDF形式**:
- A4横向き
- 月次データの色分け表示
- サマリー情報付き

---

## データ管理

### 自動バックアップ

毎日0時（日本時間）に自動バックアップが実行されます。

**保存先**: Supabase Storage（週次ローテーション）
**保存期間**: 7日分（Sunday-Saturday フォルダ）

### 手動バックアップ

**手順**:
1. 「設定画面へ」→「管理メニュー」→「バックアップ設定」
2. 「今すぐバックアップ実行」ボタンをクリック
3. JSON形式でダウンロード

### データ復元

**手順**:
1. 「バックアップ設定」画面で「復元」タブを選択
2. バックアップファイル（JSON）を選択
3. 「復元実行」ボタンをクリック

> **警告**: 復元すると現在のデータが上書きされます

### CSVインポート/エクスポート

**エクスポート**:
1. 「CSVエクスポート」ボタンをクリック
2. 全データがCSV形式でダウンロード

**インポート**:
1. 「CSVインポート」ボタンをクリック
2. CSVファイルを選択
3. エンコーディング自動検出で読み込み

### 担当者管理

**担当者の追加**:
1. 「担当者管理」画面で「＋ 担当者追加」
2. 名前・メール・権限（管理者/担当者）を入力
3. 「保存」をクリック

**担当者の削除**:
- 担当事業者がいない場合のみ削除可能
- 担当事業者がいる場合は警告が表示されます

**CSV抽出**:
- 「CSV抽出」ボタンで担当者一覧をエクスポート
- 担当事業者数・担当先一覧も含まれます

---

## よくある質問

### Q1. ログインできません

**A**: 以下を確認してください。
- 正しいGoogleアカウントを使用していますか？
- インターネット接続は正常ですか？
- ブラウザのCookieが有効になっていますか？

### Q2. 他の人が編集中で編集できません

**A**: 編集ロック機能が動作しています。
- 他のユーザーが編集を終えるまで待ってください
- 管理者は「強制解除」ボタンで解除できます
- 一定時間経過で自動解除されます

### Q3. タスクが表示されません

**A**: フィルター設定を確認してください。
- 担当者フィルターが自分になっているか
- ステータスフィルターが「全て」になっているか
- 履歴モードになっていないか（確認完了のみ表示）

### Q4. ガントチャートにタスクが表示されません

**A**: 以下を確認してください。
- タスクに「予定日」が設定されているか
- 「予定未定」ステータスの場合、予定日を設定すると表示されます
- 想定時間が未設定の場合、デフォルト3時間で表示されます

### Q5. 進捗率の計算方法は？

**A**:
- 完了タスク数 ÷ 全タスク数 × 100
- 各月ごとに計算されます
- チェックボックスが全て入ると100%

### Q6. バックアップはいつ実行されますか？

**A**:
- 自動バックアップ: 毎日0時（日本時間）
- 手動バックアップ: いつでも実行可能
- 7日分が週次ローテーションで保存されます

### Q7. 事業者を削除できますか？

**A**:
- 「関与終了」機能で非表示にできます
- 物理削除は管理者のみ実行可能
- 「復活」機能で再度有効化できます

### Q8. スマートフォンでも使えますか？

**A**:
- 基本機能は使用可能です
- 詳細画面は横画面推奨
- タッチ操作に最適化されています

### Q9. データは安全ですか？

**A**:
- Supabase（クラウドデータベース）に保存
- 毎日自動バックアップ実行
- Row Level Security（RLS）でアクセス制御
- Google OAuth認証で安全にログイン

### Q10. カスタマイズはできますか？

**A**:
- タスク項目: 事業者ごとに独自項目を設定可能
- 外部リンク: 「その他アプリ」メニューで追加可能
- 表示設定: 簡易表示モードなど個人設定が保存されます

---

## サポート・お問い合わせ

技術的な問題や機能改善の要望は、開発チームまでお問い合わせください。

**開発情報**:
- プラットフォーム: Vercel（サーバーレス）
- データベース: Supabase PostgreSQL
- 認証: Google OAuth 2.0

**バージョン情報**:
- 最終更新: 2025年10月5日
- 主要機能: タスク管理・進捗分析・自動バックアップ

---

本説明書は、事業者管理アプリの基本的な使い方をまとめたものです。
実際の操作で不明な点があれば、各画面のヘルプボタンやツールチップも参照してください。
